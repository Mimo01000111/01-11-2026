<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us - Barangay 118 Online System</title>
    <link rel="shortcut icon" type="image/png" href="Logo-Favicon-removebg-preview.png">
    <meta name="description" content="Learn about Barangay 118 - our mission, officials, committees, and services for the community">
    <meta name="keywords" content="barangay, about us, community, officials, services">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <link rel="stylesheet" href="AboutUs.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="navbar">
                <a href="index.html" id="home-logo" class="logo" aria-label="Barangay 118 Online System Home">
                    <img src="Logo-Favicon-removebg-preview.png" alt="Barangay 118 Official Logo" class="logo-image" width="70" height="70">
                    <h1 id="system-name">BARANGAY 118 ONLINE SYSTEM</h1>
                </a>

                <nav class="nav-links" aria-label="Main navigation">
                    <a href="index.html" aria-label="Home page">
                        <i class="fas fa-home" aria-hidden="true"></i>
                        <span>Home</span>
                    </a>
                    <a href="AboutUs.html" class="active" aria-current="page" aria-label="About Barangay 118 page">
                        <i class="fas fa-info-circle" aria-hidden="true"></i>
                        <span>About Us</span>
                    </a>
                    <a href="News.html" aria-label="Barangay News page">
                        <i class="fas fa-newspaper" aria-hidden="true"></i>
                        <span>News</span>
                    </a>
                    <a href="Emergency.html" aria-label="Barangay Emergency page">
                        <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
                        <span>Emergency</span>
                    </a>
                    <a href="CreateAnAccount.html" aria-label="Create an account page">
                        <i class="fas fa-user-plus" aria-hidden="true"></i>
                        <span>Create Account</span>
                    </a>
                    <a href="LogIn.html" aria-label="Login page">
                        <i class="fas fa-sign-in-alt" aria-hidden="true"></i>
                        <span>Login</span>
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Page 1: Our Community Story -->
    <section class="page-hero">
        <div class="container">
            <h1 id="about-hero-title">About Barangay 118</h1>
            <p id="about-hero-description">Discover our story, meet our team, and learn about our commitment to serving the community.</p>
        </div>
    </section>

    <!-- Our Community Story -->
    <section class="section section-white">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2 id="about-story-title">Our Community Story</h2>
                    <p id="about-story-content-1">For over 62 years, Barangay 118 has stood as a pillar of public service — committed to delivering efficient, transparent, and accessible government services to our residents. Located in the heart of the city, our barangay is home to a vibrant community of families, businesses, and institutions working together for progress and unity.</p>
                    <p id="about-story-content-2">Through the launch of our Online System, we are taking our commitment to the next level — providing 24/7 access to essential services from the comfort of your home. This digital transformation bridges the gap between the barangay administration and the people we serve, ensuring convenience and connectivity for all.</p>
                    <p id="about-story-content-3">Behind every program and project is a dedicated team of officials and staff who serve with integrity, transparency, and compassion — ensuring that every resident feels heard, supported, and cared for.</p>
                    <a href="#barangay-info" class="btn btn-primary">Explore Our Services</a>
                </div>
                <div class="about-image">
                    <img id="about-barangay-image" src="Screen Shot 2025-11-23 at 10.35.19 AM.png" alt="Barangay Hall Building">
                </div>
            </div>
        </div>
    </section>

    <!-- Page 2: Barangay Information Carousel -->
    <section id="barangay-info" class="section section-light">
        <div class="container">
            <div class="combined-content-wrapper">
                <!-- Static Top Section -->
                <div class="static-top">
                    <h2 class="section-title">Barangay Information</h2>
                    <p class="section-subtitle">
                        Learn more about our barangay's mission, vision, leaders, committees, and the documents and services available to residents.
                    </p>
                </div>

                <!-- Carousel Container -->
                <div class="carousel-container">
                    <!-- Navigation Arrows -->
                    <button class="nav-arrow prev" aria-label="Previous section">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    
                    <!-- Carousel Slides -->
                    <div class="carousel-slides">
                        <!-- Slide 1: Mission & Vision -->
                        <div class="slide active" data-slide="0">
                            <div class="slide-content">
                                <h3 class="section-title" style="margin-bottom: 20px; font-size: 2rem;">Our Mission & Vision</h3>
                                <p class="section-subtitle" id="mission-vision-subtitle" style="margin-bottom: 30px;">The guiding principles that define our purpose, direction, and commitment to serving the community.</p>
                                <div class="mission-vision-grid">
                                    <div class="mission-card">
                                        <div class="mission-icon"><i class="fas fa-bullseye"></i></div>
                                        <h3 id="mission-title">Our Mission</h3>
                                        <p id="mission-description">To provide efficient, transparent, and accessible government services to all residents through innovative digital solutions, fostering a connected and empowered community.</p>
                                    </div>
                                    <div class="vision-card">
                                        <div class="vision-icon"><i class="fas fa-eye"></i></div>
                                        <h3 id="vision-title">Our Vision</h3>
                                        <p id="vision-description">To be a model barangay known for excellent public service, community engagement, and technological innovation that improves the quality of life for all residents.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Slide 2: Barangay Officials -->
                        <div class="slide" data-slide="1">
                            <div class="slide-content">
                                <h3 class="section-title" style="margin-bottom: 20px; font-size: 2rem;">Barangay Officials</h3>
                                <p class="section-subtitle" id="officials-subtitle" style="margin-bottom: 30px;">Meet the dedicated team serving our community</p>
                                
                                <div class="officials-grid" id="officials-container">
                                    <!-- Officials will be loaded dynamically here -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Slide 3: Barangay Committees -->
                        <div class="slide" data-slide="2">
                            <div class="slide-content">
                                <h3 class="section-title" style="margin-bottom: 20px; font-size: 2rem;">Barangay Committees</h3>
                                <p class="section-subtitle" id="committees-subtitle" style="margin-bottom: 30px;">Our specialized committees addressing various community needs</p>
                                
                                <div class="committee-grid" id="committees-container">
                                    <!-- Committees will be loaded dynamically here -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Slide 4: Document Requirements -->
                        <div class="slide" data-slide="3">
                            <div class="slide-content">
                                <h3 class="section-title" style="margin-bottom: 20px; font-size: 2rem;">Document Requirements</h3>
                                <p class="section-subtitle" id="documents-subtitle" style="margin-bottom: 30px;">Information about the documents you can request and their requirements</p>
                                
                                <div class="documents-grid" id="documents-container">
                                    <!-- Documents will be loaded dynamically here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Next Arrow -->
                    <button class="nav-arrow next" aria-label="Next section">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    
                    <!-- Indicators -->
                    <div class="carousel-indicators">
                        <div class="indicator active" data-slide="0"></div>
                        <div class="indicator" data-slide="1"></div>
                        <div class="indicator" data-slide="2"></div>
                        <div class="indicator" data-slide="3"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Page 3: Barangay Location -->
    <section class="section section-white">
        <div class="container">
            <h2 class="section-title" id="location-title">Barangay Location</h2>
            <p class="section-subtitle" id="location-subtitle">Find our barangay hall and important facilities</p>
            
            <div class="map-container">
                <iframe 
                    id="barangay-map-iframe"
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3860.756058428442!2d120.98186107483958!3d14.617918276090184!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397b5f6a5b2c8b1%3A0x3a5c6c3c3c3c3c3c!2s402%202nd%20St%2C%20Grace%20Park%20East%2C%20Caloocan%2C%20Metro%20Manila!5e0!3m2!1sen!2sph!4v1690000000000!5m2!1sen!2sph" 
                    allowfullscreen="" 
                    loading="lazy" 
                    referrerpolicy="no-referrer-when-downgrade"
                    title="Barangay 118 Location Map">
                </iframe>
                
                <div class="map-info">
                    <p class="address" id="barangay-address">402 2nd St, Grace Park East, Caloocan, Metro Manila</p>
                    <p id="barangay-location">Barangay 118 Hall, Grace Park East, Caloocan</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Page 4: Frequently Asked Questions -->
    <section class="section section-light">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions</h2>
            <p class="section-subtitle">Find answers to common questions about our barangay and services</p>
            
            <div class="faq-container" id="faq-container">
                <!-- FAQs will be loaded dynamically here -->
            </div>
        </div>
    </section>

    <!-- Page 5: Get In Touch -->
    <section class="section section-white" id="contact">
        <div class="container">
            <h2 class="section-title" style="text-align: center; margin-bottom: 20px;" id="contact-section-title">Get In Touch</h2>
            <p class="section-subtitle" style="text-align: center; margin-bottom: 40px;">We're here to help. Contact us for any inquiries or concerns.</p>
            
            <div class="contact-container">
                <div class="contact-info">
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Location</h3>
                            <p id="contact-address">402 2nd St, Grace Park East, Caloocan, Metro Manila</p>
                            <a href="https://maps.app.goo.gl/vic9Xuyab5eZhxSaA" target="_blank" class="map-link-button">
                                <i class="fas fa-map"></i> <span id="map-link-text">View on Google Maps</span>
                            </a>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email</h3>
                            <p id="contact-email">info@barangay118.gov.ph</p>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Phone</h3>
                            <p id="contact-phone">(02) 8123-4567</p>
                        </div>
                    </div>
                    
                    <div class="contact-card">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Office Hours</h3>
                            <p id="contact-hours-weekdays">Monday-Friday: 8:00 AM - 5:00 PM</p>
                            <p id="contact-hours-saturday">Saturday: 8:00 AM - 12:00 PM</p>
                        </div>
                    </div>
                </div>

                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="from_name">Your Name *</label>
                            <input type="text" id="from_name" name="from_name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="from_email">Your Email * <small>(Gmail only)</small></label>
                            <input type="email" id="from_email" name="from_email" class="form-control" required>
                            <small class="email-hint" style="font-size: 0.9rem; color: var(--gray); display: block; margin-top: 5px;">Only Gmail addresses are accepted (@gmail.com)</small>
                        </div>
                        <div class="form-group">
                            <label for="subject">Subject *</label>
                            <input type="text" id="subject" name="subject" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" class="form-control" rows="5" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 14px; font-size: 1rem;">
                            <i class="fas fa-paper-plane"></i> Send Message
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer">
        <div class="container" id="footer-container">
            <div class="footer-content" id="footer-content">
                <!-- Left Column: System Info -->
                <div class="footer-column" id="footer-system-column">
                    <h3 id="footer-title" class="footer-title">
                        Barangay 118 Online System
                    </h3>
                    <p id="footer-description" class="footer-description">
                        Secure and efficient online services for Barangay 118. Connecting our community through technology.
                    </p>
                </div>

                <!-- Center Footer -->
                <div class="footer-center" id="footer-center">
                    <div class="footer-row" id="footer-row">
                        <!-- Contact Info -->
                        <div class="footer-column" id="footer-contact-column">
                            <h3 id="footer-contact-title">Contact Info</h3>
                            <ul id="footer-contact-info" class="footer-contact-info">
                                <li>
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span id="footer-address-line1">
                                        402 2nd St, Grace Park East, Caloocan
                                    </span>
                                </li>
                                <li>
                                    <i class="fas fa-map-pin"></i>
                                    <span id="footer-address-line2">
                                        Metro Manila, Philippines
                                    </span>
                                </li>
                                <li>
                                    <i class="fas fa-phone"></i>
                                    <span id="footer-phone">
                                        (02) 8123-4567
                                    </span>
                                </li>
                                <li>
                                    <i class="fas fa-envelope"></i>
                                    <span id="footer-email">
                                        info@barangay118.gov.ph
                                    </span>
                                </li>
                                <li>
                                    <i class="fas fa-clock"></i>
                                    <span id="footer-office-hours">
                                        Mon–Fri: 8:00 AM – 5:00 PM
                                    </span>
                                </li>
                            </ul>
                        </div>

                        <!-- Social / Links -->
                        <div class="footer-column" id="footer-links-column">
                            <h3 id="footer-social-title">Follow Us</h3>
                            <ul class="footer-links" id="footer-social-links">
                                <li id="footer-facebook-item">
                                    <i class="fab fa-facebook"></i>
                                    <a id="footer-facebook-link" href="https://facebook.com/barangay118" target="_blank">
                                        <span id="footer-facebook-text">Barangay 118 Facebook</span>
                                    </a>
                                </li>
                                <li id="footer-messenger-item">
                                    <i class="fab fa-facebook-messenger"></i>
                                    <a id="footer-messenger-link" href="https://m.me/barangay118" target="_blank">
                                        <span id="footer-messenger-text">Messenger Chat</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="copyright" id="footer-copyright">
                <p id="copyright-text">
                    &copy; 2025 Barangay 118 Online System. All Rights Reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div class="toast">
        <i class="fas fa-check-circle"></i>
        <span>Message sent successfully!</span>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize EmailJS
        emailjs.init("KkQSfG62Jg8W8uies");
        
        // Load content from localStorage
        loadContent();
        
        // ====================
        // CAROUSEL FUNCTIONALITY
        // ====================
        const slides = document.querySelectorAll('.slide');
        const indicators = document.querySelectorAll('.indicator');
        const prevBtn = document.querySelector('.nav-arrow.prev');
        const nextBtn = document.querySelector('.nav-arrow.next');
        let currentSlide = 0;
        
        // Function to show slide
        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[index].classList.add('active');
            
            indicators.forEach((indicator, i) => {
                indicator.classList.toggle('active', i === index);
            });
            
            currentSlide = index;
        }
        
        // Function to go to next slide
        function nextSlide() {
            let newIndex = currentSlide + 1;
            if (newIndex >= slides.length) newIndex = 0;
            showSlide(newIndex);
        }
        
        // Function to go to previous slide
        function prevSlide() {
            let newIndex = currentSlide - 1;
            if (newIndex < 0) newIndex = slides.length - 1;
            showSlide(newIndex);
        }
        
        // Event listeners for navigation
        prevBtn.addEventListener('click', (e) => {
            e.preventDefault();
            prevSlide();
        });
        
        nextBtn.addEventListener('click', (e) => {
            e.preventDefault();
            nextSlide();
        });
        
        // Event listeners for indicators
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                showSlide(index);
            });
        });
        
        // Touch/swipe support for mobile
        let touchStartX = 0;
        let touchEndX = 0;
        const carouselContainer = document.querySelector('.carousel-container');
        
        if (carouselContainer) {
            carouselContainer.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            carouselContainer.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
        }
        
        function handleSwipe() {
            const swipeThreshold = 50;
            const swipeDistance = touchEndX - touchStartX;
            
            if (Math.abs(swipeDistance) < swipeThreshold) return;
            
            if (swipeDistance > 0) {
                prevSlide();
            } else {
                nextSlide();
            }
        }
        
        // Auto-rotate carousel every 10 seconds
        let slideInterval = setInterval(nextSlide, 10000);
        
        // Pause auto-rotation on hover
        carouselContainer.addEventListener('mouseenter', () => {
            clearInterval(slideInterval);
        });
        
        carouselContainer.addEventListener('mouseleave', () => {
            clearInterval(slideInterval);
            slideInterval = setInterval(nextSlide, 10000);
        });
        
        // ====================
        // FAQ FUNCTIONALITY
        // ====================
        document.addEventListener('click', function(e) {
            if (e.target.closest('.faq-question')) {
                const item = e.target.closest('.faq-item');
                item.classList.toggle('active');
            }
        });
        
        // ====================
        // CONTACT FORM HANDLING
        // ====================
        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', handleFormSubmit);
            
            const emailInput = document.querySelector('input[name="from_email"]');
            if (emailInput) {
                emailInput.addEventListener('input', validateEmail);
            }
        }
        
        // ====================
        // CONTENT MANAGEMENT
        // ====================
        
        // Listen for storage changes (for admin updates)
        window.addEventListener('storage', function(e) {
            if (e.key === 'barangayContent') {
                loadContent();
                showToast('Content updated successfully!', 'success');
            }
        });
        
        // Validate if email is Gmail
        function isValidGmail(email) {
            const gmailRegex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
            return gmailRegex.test(email);
        }
        
        // Email validation function
        function validateEmail(e) {
            const email = e.target.value.trim();
            if (email && !isValidGmail(email)) {
                e.target.style.borderColor = 'var(--error)';
            } else {
                e.target.style.borderColor = 'var(--gray-border)';
            }
        }
        
        // Handle contact form submission
        function handleFormSubmit(e) {
            e.preventDefault();
            const emailInput = e.target.from_email;
            const email = emailInput.value.trim();
            
            // Validate Gmail
            if (!isValidGmail(email)) {
                showToast('Please use a valid Gmail address (@gmail.com only)', 'error');
                emailInput.style.borderColor = 'var(--error)';
                return;
            }
            
            emailInput.style.borderColor = 'var(--gray-border)';
            
            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
            submitBtn.disabled = true;
            
            // Format timestamp
            const now = new Date();
            const formattedTime = now.toLocaleString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                hour12: true
            });
            
            // Save message to localStorage for admin panel
            const messages = JSON.parse(localStorage.getItem('contactMessages')) || [];
            const newMessage = {
                id: Date.now(),
                from_name: e.target.from_name.value,
                from_email: e.target.from_email.value,
                subject: e.target.subject.value,
                message: e.target.message.value,
                timestamp: formattedTime,
                status: 'unread',
                emailSent: false
            };
            messages.push(newMessage);
            localStorage.setItem('contactMessages', JSON.stringify(messages));
            
            // Prepare EmailJS parameters
            const templateParams = {
                from_name: e.target.from_name.value,
                from_email: e.target.from_email.value,
                subject: e.target.subject.value,
                message: e.target.message.value,
                time: formattedTime,
                date: formattedTime
            };
            
            // Send email via EmailJS
            emailjs.send('service_upx49ro', 'template_4loo5dp', templateParams)
                .then((response) => {
                    console.log('SUCCESS!', response.status, response.text);
                    showToast('Message sent successfully!', 'success');
                    
                    // Update message status
                    const updatedMessages = JSON.parse(localStorage.getItem('contactMessages')) || [];
                    const updatedMessageIndex = updatedMessages.findIndex(msg => msg.id === newMessage.id);
                    if (updatedMessageIndex !== -1) {
                        updatedMessages[updatedMessageIndex].emailSent = true;
                        localStorage.setItem('contactMessages', JSON.stringify(updatedMessages));
                    }
                    
                    // Reset form
                    e.target.reset();
                })
                .catch((error) => {
                    console.log('FAILED...', error);
                    showToast('Message saved! We will contact you soon.', 'info');
                    
                    // Update message status
                    const updatedMessages = JSON.parse(localStorage.getItem('contactMessages')) || [];
                    const updatedMessageIndex = updatedMessages.findIndex(msg => msg.id === newMessage.id);
                    if (updatedMessageIndex !== -1) {
                        updatedMessages[updatedMessageIndex].emailSent = false;
                        updatedMessages[updatedMessageIndex].note = 'Email delivery failed - saved to database';
                        localStorage.setItem('contactMessages', JSON.stringify(updatedMessages));
                    }
                    
                    // Reset form
                    e.target.reset();
                })
                .finally(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                });
        }
        
        // Show toast notification
        function showToast(message, type = 'info') {
            const toast = document.querySelector('.toast');
            if (toast) {
                const icon = type === 'success' ? 'fa-check-circle' : 
                            type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle';
                toast.innerHTML = `<i class="fas ${icon}"></i><span>${message}</span>`;
                
                // Set background color based on type
                if (type === 'success') {
                    toast.style.background = 'var(--success)';
                } else if (type === 'error') {
                    toast.style.background = 'var(--error)';
                } else {
                    toast.style.background = 'var(--primary)';
                }
                
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 4000);
            }
        }
        
        // Load content from localStorage
        function loadContent() {
            const content = JSON.parse(localStorage.getItem('barangayContent')) || getDefaultData();
            
            // Helper function to set content
            function setContent(id, defaultValue, isAttribute = false, attrName = '') {
                const element = document.getElementById(id);
                if (element) {
                    let value = getNestedValue(content, id) || defaultValue;
                    
                    if (isAttribute && attrName) {
                        element.setAttribute(attrName, value);
                    } else if (element.tagName === 'IMG') {
                        element.src = value;
                    } else if (element.tagName === 'A' && id.includes('link')) {
                        element.href = value;
                    } else if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.value = value;
                    } else if (element.tagName === 'SPAN') {
                        element.textContent = value;
                    } else {
                        element.textContent = value;
                    }
                }
            }
            
            // Helper to get nested values from content object
            function getNestedValue(obj, path) {
                return path.split('.').reduce((current, key) => {
                    return current && current[key] !== undefined ? current[key] : null;
                }, obj);
            }
            
            // System Name
            setContent('system-name', content.systemName || 'BARANGAY 118 ONLINE SYSTEM');
            
            // Hero Section
            setContent('about-hero-title', content.aboutUs?.hero?.title || 'About Barangay 118');
            setContent('about-hero-description', content.aboutUs?.hero?.description || 'Discover our story, meet our team, and learn about our commitment to serving the community.');
            
            // About Section
            setContent('about-story-title', content.aboutUs?.story?.title || 'Our Community Story');
            setContent('about-story-content-1', content.aboutUs?.story?.content1 || 'For over 62 years, Barangay 118 has stood as a pillar of public service — committed to delivering efficient, transparent, and accessible government services to our residents. Located in the heart of the city, our barangay is home to a vibrant community of families, businesses, and institutions working together for progress and unity.');
            setContent('about-story-content-2', content.aboutUs?.story?.content2 || 'Through the launch of our Online System, we are taking our commitment to the next level — providing 24/7 access to essential services from the comfort of your home. This digital transformation bridges the gap between the barangay administration and the people we serve, ensuring convenience and connectivity for all.');
            setContent('about-story-content-3', content.aboutUs?.story?.content3 || 'Behind every program and project is a dedicated team of officials and staff who serve with integrity, transparency, and compassion — ensuring that every resident feels heard, supported, and cared for.');
            setContent('about-barangay-image', content.aboutUs?.story?.image || 'Screen Shot 2025-11-23 at 10.35.19 AM.png');
            
            // Mission & Vision
            setContent('mission-title', content.aboutUs?.missionVision?.mission?.title || 'Our Mission');
            setContent('mission-description', content.aboutUs?.missionVision?.mission?.description || 'To provide efficient, transparent, and accessible government services to all residents through innovative digital solutions, fostering a connected and empowered community.');
            setContent('vision-title', content.aboutUs?.missionVision?.vision?.title || 'Our Vision');
            setContent('vision-description', content.aboutUs?.missionVision?.vision?.description || 'To be a model barangay known for excellent public service, community engagement, and technological innovation that improves the quality of life for all residents.');
            
            // Officials
            setContent('officials-subtitle', content.aboutUs?.officials?.subtitle || 'Meet the dedicated team serving our community');
            renderOfficials(content.aboutUs?.officials?.list || []);
            
            // Committees
            setContent('committees-subtitle', content.aboutUs?.committees?.subtitle || 'Our specialized committees addressing various community needs');
            renderCommittees(content.aboutUs?.committees?.list || []);
            
            // Documents
            setContent('documents-subtitle', content.aboutUs?.documents?.subtitle || 'Information about the documents you can request and their requirements');
            renderDocuments(content.aboutUs?.documents?.list || []);
            
            // Location Section
            setContent('location-title', content.aboutUs?.location?.title || 'Barangay Location');
            setContent('location-subtitle', content.aboutUs?.location?.subtitle || 'Find our barangay hall and important facilities');
            setContent('barangay-address', content.aboutUs?.location?.address || '402 2nd St, Grace Park East, Caloocan, Metro Manila');
            setContent('barangay-location', content.aboutUs?.location?.location || 'Barangay 118 Hall, Grace Park East, Caloocan');
            
            // Set Google Maps iframe src from data
            const mapIframe = document.getElementById('barangay-map-iframe');
            if (mapIframe && content.aboutUs?.location?.mapLink) {
                mapIframe.src = content.aboutUs.location.mapLink;
            }
            
            // Contact Section  
            setContent('contact-section-title', content.aboutUs?.contact?.title || 'Get In Touch');
            setContent('contact-address', content.aboutUs?.contact?.address || '402 2nd St, Grace Park East, Caloocan, Metro Manila');
            setContent('contact-email', content.aboutUs?.contact?.email || 'info@barangay118.gov.ph');
            setContent('contact-phone', content.aboutUs?.contact?.phone || '(02) 8123-4567');
            setContent('contact-hours-weekdays', content.aboutUs?.contact?.hours?.weekdays || 'Monday-Friday: 8:00 AM - 5:00 PM');
            setContent('contact-hours-saturday', content.aboutUs?.contact?.hours?.saturday || 'Saturday: 8:00 AM - 12:00 PM');
            setContent('map-link-text', content.aboutUs?.contact?.mapLinkText || 'View on Google Maps');
            
            // Set map link button href
            const mapLinkButton = document.querySelector('.map-link-button');
            if (mapLinkButton && content.aboutUs?.contact?.mapLink) {
                mapLinkButton.href = content.aboutUs.contact.mapLink;
            }
            
            // FAQs
            renderFAQs(content.aboutUs?.faqs?.list || []);
            
            // Footer
            setContent('footer-title', content.footer?.title || 'Barangay 118 Online System');
            setContent('footer-description', content.footer?.description || 'Secure and efficient online services for Barangay 118. Connecting our community through technology.');
            setContent('copyright-text', content.footer?.copyright || '&copy; 2025 Barangay 118 Online System. All Rights Reserved.');
            setContent('footer-address-line1', content.footer?.contactInfo?.[0] || '402 2nd St, Grace Park East, Caloocan');
            setContent('footer-address-line2', content.footer?.contactInfo?.[1] || 'Metro Manila, Philippines');
            setContent('footer-phone', content.footer?.contactInfo?.[2] || '(02) 8123-4567');
            setContent('footer-email', content.footer?.contactInfo?.[3] || 'info@barangay118.gov.ph');
            setContent('footer-office-hours', content.footer?.contactInfo?.[4] || 'Mon–Fri: 8:00 AM – 5:00 PM');
            
            // Social Links
            const facebookLink = document.getElementById('footer-facebook-link');
            if (facebookLink && content.footer?.socialMedia?.facebook) {
                facebookLink.href = content.footer.socialMedia.facebook;
            }
            
            const messengerLink = document.getElementById('footer-messenger-link');
            if (messengerLink && content.footer?.socialMedia?.messenger) {
                messengerLink.href = content.footer.socialMedia.messenger;
            }
        }
        
        // Get default data structure
        function getDefaultData() {
            return {
                systemName: "BARANGAY 118 ONLINE SYSTEM",
                aboutUs: {
                    hero: {
                        title: "About Barangay 118",
                        description: "Discover our story, meet our team, and learn about our commitment to serving the community."
                    },
                    story: {
                        title: "Our Community Story",
                        content1: "For over 62 years, Barangay 118 has stood as a pillar of public service — committed to delivering efficient, transparent, and accessible government services to our residents. Located in the heart of the city, our barangay is home to a vibrant community of families, businesses, and institutions working together for progress and unity.",
                        content2: "Through the launch of our Online System, we are taking our commitment to the next level — providing 24/7 access to essential services from the comfort of your home. This digital transformation bridges the gap between the barangay administration and the people we serve, ensuring convenience and connectivity for all.",
                        content3: "Behind every program and project is a dedicated team of officials and staff who serve with integrity, transparency, and compassion — ensuring that every resident feels heard, supported, and cared for.",
                        image: "Screen Shot 2025-11-23 at 10.35.19 AM.png"
                    },
                    missionVision: {
                        mission: {
                            title: "Our Mission",
                            description: "To provide efficient, transparent, and accessible government services to all residents through innovative digital solutions, fostering a connected and empowered community."
                        },
                        vision: {
                            title: "Our Vision", 
                            description: "To be a model barangay known for excellent public service, community engagement, and technological innovation that improves the quality of life for all residents."
                        }
                    },
                    officials: {
                        subtitle: "Meet the dedicated team serving our community",
                        list: [
                            { id: 1, avatar: 'J', name: 'Jerryllyn D. Bolo', position: 'Chairwoman', description: 'Leading Barangay 118 with dedication and commitment to community service.' },
                            { id: 2, avatar: 'J', name: 'Jeremy Abesamis', position: 'SK Chairman', description: 'Representing the youth of Barangay 118 and advocating for their needs.' },
                            { id: 3, avatar: 'R', name: 'Richard Rayos', position: 'Secretary', description: 'Managing barangay documentation and administrative processes.' },
                            { id: 4, avatar: 'C', name: 'Carolina T. Manabat', position: 'Treasurer', description: 'Overseeing barangay finances and budget management.' },
                            { id: 5, avatar: 'A', name: 'Annalyn Abesamis', position: 'Kagawad', description: 'Committee on Violence Against Women and Children.' },
                            { id: 6, avatar: 'J', name: 'Joemarie F. Dohinog', position: 'Kagawad', description: 'Committee on Infrastructure and Public Works.' },
                            { id: 7, avatar: 'R', name: 'Ronald Allan Mateo', position: 'Kagawad', description: 'Committee on Public Safety and Peace & Order.' }
                        ]
                    },
                    committees: {
                        subtitle: "Our specialized committees addressing various community needs",
                        list: [
                            { id: 1, icon: 'fas fa-shield-heart', name: 'Committee on Violence Against Women and Children', chairperson: 'Annalyn Abesamis', description: 'Addressing issues related to violence against women and children and providing support services. This committee ensures protection and empowerment for vulnerable groups in our community.' },
                            { id: 2, icon: 'fas fa-hammer', name: 'Committee on Infrastructure', chairperson: 'Joemarie F. Dohinog', description: 'Overseeing barangay infrastructure projects and maintenance of public facilities. This committee ensures our community has well-maintained roads, buildings, and public spaces.' },
                            { id: 3, icon: 'fas fa-user-shield', name: 'Committee on Public Safety', chairperson: 'Ronald Allan Mateo', description: 'Ensuring the safety and security of residents through various safety programs. This committee coordinates with local authorities to maintain a secure environment for all.' },
                            { id: 4, icon: 'fas fa-hand-holding-medical', name: 'Committee on Health and Sanitation', chairperson: 'Lucas Badilla', description: 'Promoting health programs and maintaining cleanliness in the community. This committee organizes medical missions and ensures proper waste management.' },
                            { id: 5, icon: 'fas fa-peace', name: 'Committee on Peace and Order', chairperson: 'Novel Nolasco', description: 'Maintaining peace and order within the barangay through community policing. This committee resolves disputes and promotes harmonious living.' },
                            { id: 6, icon: 'fas fa-graduation-cap', name: 'Committee on Education', chairperson: 'Ma. Theresa Neri', description: 'Supporting educational initiatives and programs for residents of all ages. This committee provides scholarships and organizes literacy programs.' },
                            { id: 7, icon: 'fas fa-leaf', name: 'Committee on Environmental', chairperson: 'Alex Bolo', description: 'Implementing environmental programs and sustainability initiatives. This committee promotes green spaces and environmental awareness campaigns.' }
                        ]
                    },
                    documents: {
                        subtitle: "Information about the documents you can request and their requirements",
                        list: [
                            { 
                                id: 1, 
                                name: 'Barangay Clearance', 
                                description: 'Required for various transactions including employment, business permits, and legal matters. This document certifies your good standing in the community.', 
                                requirements: ['Valid government-issued ID', 'Proof of Residency (utility bill or lease agreement)', 'Community Tax Certificate (cedula)'], 
                                processingTime: '10-15 minutes' 
                            },
                            { 
                                id: 2, 
                                name: 'Certificate of Residency', 
                                description: 'Proof of residency in Barangay 118 for various purposes such as school enrollment, loan applications, and government transactions.', 
                                requirements: ['Valid government-issued ID', 'Proof of Residency (utility bill or barangay ID)', 'Completed application form'], 
                                processingTime: 'Same day' 
                            },
                            { 
                                id: 3, 
                                name: 'Certificate of Indigency', 
                                description: 'For availing government assistance programs and benefits. This document certifies your eligibility for social welfare programs.', 
                                requirements: ['Valid ID', 'Proof of Income or Affidavit of No Income', 'Proof of Residency'], 
                                processingTime: '1-2 days' 
                            },
                            { 
                                id: 4, 
                                name: 'Barangay ID', 
                                description: 'Official identification card issued by Barangay 118. Valid for local transactions and as supplementary identification.', 
                                requirements: ['Valid ID (if available)', 'Proof of Residency', '1x1 ID Photo', 'Completed application form'], 
                                processingTime: '3-5 working days' 
                            },
                            { 
                                id: 5, 
                                name: 'Business Permit', 
                                description: 'Required for operating businesses within Barangay 118 jurisdiction. Ensures compliance with local regulations.', 
                                requirements: ['Barangay Clearance', 'Business Registration Documents', 'Proof of Business Address', 'Valid IDs'], 
                                processingTime: '5-7 working days' 
                            }
                        ]
                    },
                    location: {
                        title: "Barangay Location",
                        subtitle: "Find our barangay hall and important facilities",
                        address: '402 2nd St, Grace Park East, Caloocan, Metro Manila',
                        location: 'Barangay 118 Hall, Grace Park East, Caloocan',
                        mapLink: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3860.756058428442!2d120.98186107483958!3d14.617918276090184!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397b5f6a5b2c8b1%3A0x3a5c6c3c3c3c3c3c!2s402%202nd%20St%2C%20Grace%20Park%20East%2C%20Caloocan%2C%20Metro%20Manila!5e0!3m2!1sen!2sph!4v1690000000000!5m2!1sen!2sph"
                    },
                    contact: {
                        title: "Get In Touch",
                        address: '402 2nd St, Grace Park East, Caloocan, Metro Manila',
                        email: 'info@barangay118.gov.ph',
                        phone: '(02) 8123-4567',
                        mapLink: "https://maps.app.goo.gl/vic9Xuyab5eZhxSaA",
                        hours: {
                            weekdays: 'Monday-Friday: 8:00 AM - 5:00 PM',
                            saturday: 'Saturday: 8:00 AM - 12:00 PM'
                        },
                        mapLinkText: "View on Google Maps"
                    },
                    faqs: {
                        list: [
                            { 
                                id: 1, 
                                question: 'What are the office hours of the barangay hall?', 
                                answer: 'Our barangay hall is open from Monday to Friday, 8:00 AM to 5:00 PM, and on Saturdays from 8:00 AM to 12:00 PM. We are closed on Sundays and holidays.' 
                            },
                            { 
                                id: 2, 
                                question: 'How can I request a Barangay Clearance?', 
                                answer: 'Required documents: Valid government-issued ID (driver\'s license, passport, voter\'s ID), proof of residency (utility bill, lease/rental contract), completed barangay clearance application form, Community Tax Certificate (cedula), and passport-size photo if required. Fees: Free (no payment required). Processing time: Usually issued immediately (10–15 minutes). Where & How to apply: Apply in person at Barangay 118 Hall, weekdays 8 AM–5 PM. Submit requirements and receive your clearance.' 
                            },
                            { 
                                id: 3, 
                                question: 'How can I request a Certificate of Residency?', 
                                answer: 'Required documents: Government-issued ID, proof of address (utility bill, lease, or cedula), and completed residency certificate form. Fees: Free (no payment required). Processing time: On the spot or same day. Where & How to apply: Apply at Barangay 118 Hall, weekdays 8 AM–5 PM. Present your documents and receive the certificate.' 
                            },
                            { 
                                id: 4, 
                                question: 'How can I request a Certificate of Indigency?', 
                                answer: 'Required documents: Government-issued ID, proof of residence (barangay ID, voter\'s record, or utility bill), supporting income documents if applicable, and purpose statement. Fees: Free. Processing time: Usually issued immediately. Where & How to apply: Submit request at Barangay 118 Hall, weekdays 8 AM–5 PM. The officer will review and issue the certificate.' 
                            },
                            { 
                                id: 5, 
                                question: 'How can I get a Barangay ID?', 
                                answer: 'Required documents: Valid ID (if any), proof of residency (utility bill, barangay certificate, or cedula), 1–2 passport-size photos, and completed application form. Fees: Free. Processing time: Usually issued on the same day. Where & How to apply: Apply at Barangay 118 Hall, weekdays 8 AM–5 PM. Submit your requirements and receive your Barangay ID.' 
                            },
                            { 
                                id: 6, 
                                question: 'How can I report a community concern?', 
                                answer: 'You can report concerns by visiting the Barangay 118 Hall, calling our office at (02) 8123-4567, or using the contact form on our website. For emergencies, contact proper emergency services first. You may also use the "Get In Touch" section on our site; our team will review and assist you accordingly.' 
                            }
                        ]
                    }
                },
                footer: {
                    title: "Barangay 118 Online System",
                    description: "Secure and efficient online services for Barangay 118. Connecting our community through technology.",
                    socialMedia: {
                        facebook: "https://facebook.com/barangay118",
                        messenger: "https://m.me/barangay118"
                    },
                    contactInfo: [
                        "402 2nd St, Grace Park East, Caloocan",
                        "Metro Manila, Philippines",
                        "(02) 8123-4567",
                        "info@barangay118.gov.ph",
                        "Mon–Fri: 8:00 AM – 5:00 PM"
                    ],
                    copyright: "&copy; 2025 Barangay 118 Online System. All Rights Reserved."
                }
            };
        }
        
        // Render officials dynamically
        function renderOfficials(officials) {
            const container = document.getElementById('officials-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (officials.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--gray); grid-column: 1 / -1;">No officials information available.</p>';
                return;
            }
            
            officials.forEach(official => {
                const card = document.createElement('div');
                card.className = 'official-card';
                
                // Use avatar URL if available, otherwise use initial
                let avatarHTML = '';
                if (official.avatar && official.avatar.startsWith('http')) {
                    avatarHTML = `<img src="${official.avatar}" alt="${official.name}" class="official-avatar-img">`;
                    card.innerHTML = `
                        <div class="official-avatar" style="background: none; padding: 0;">
                            ${avatarHTML}
                        </div>
                        <div class="official-name">${official.name || 'Unnamed Official'}</div>
                        <div class="official-position">${official.position || 'Position not specified'}</div>
                        <p>${official.description || 'No description available.'}</p>
                        ${official.contact ? `<div class="official-contact"><i class="fas fa-phone"></i> ${official.contact}</div>` : ''}
                    `;
                } else {
                    card.innerHTML = `
                        <div class="official-avatar">${official.avatar || official.name.charAt(0)}</div>
                        <div class="official-name">${official.name || 'Unnamed Official'}</div>
                        <div class="official-position">${official.position || 'Position not specified'}</div>
                        <p>${official.description || 'No description available.'}</p>
                        ${official.contact ? `<div class="official-contact"><i class="fas fa-phone"></i> ${official.contact}</div>` : ''}
                    `;
                }
                
                container.appendChild(card);
            });
        }
        
        // Render committees dynamically
        function renderCommittees(committees) {
            const container = document.getElementById('committees-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (committees.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--gray); width: 100%;">No committees information available.</p>';
                return;
            }
            
            committees.forEach(committee => {
                const card = document.createElement('div');
                card.className = 'committee-card';
                card.innerHTML = `
                    <div class="committee-icon"><i class="${committee.icon || 'fas fa-users'}"></i></div>
                    <div class="committee-name">${committee.name || 'Unnamed Committee'}</div>
                    <div class="committee-chairperson">${committee.chairperson ? 'Chairperson: ' + committee.chairperson : 'No chairperson specified'}</div>
                    <p>${committee.description || 'No description available.'}</p>
                `;
                container.appendChild(card);
            });
        }
        
        // Render documents dynamically
        function renderDocuments(documents) {
            const container = document.getElementById('documents-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (documents.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--gray); grid-column: 1 / -1;">No documents information available.</p>';
                return;
            }
            
            documents.forEach(doc => {
                const card = document.createElement('div');
                card.className = 'document-card';
                
                // Format requirements list
                let requirementsHTML = '';
                if (doc.requirements && doc.requirements.length > 0) {
                    requirementsHTML = `
                        <p><strong>Requirements:</strong></p>
                        <ul class="requirements-list">
                            ${doc.requirements.map(req => `<li>${req}</li>`).join('')}
                        </ul>
                    `;
                }
                
                // Format processing time
                let processingHTML = '';
                if (doc.processingTime) {
                    processingHTML = `<div class="processing-time"><i class="fas fa-clock"></i> Processing Time: ${doc.processingTime}</div>`;
                }
                
                card.innerHTML = `
                    <div class="document-icon"><i class="${doc.icon || 'fas fa-file-alt'}"></i></div>
                    <div class="document-name">${doc.name || 'Unnamed Document'}</div>
                    <div class="document-description">
                        <p>${doc.description || 'No description available.'}</p>
                        ${requirementsHTML}
                        ${processingHTML}
                    </div>
                `;
                
                container.appendChild(card);
            });
        }
        
        // Render FAQs dynamically
        function renderFAQs(faqs) {
            const container = document.getElementById('faq-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (faqs.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--gray);">No FAQs available.</p>';
                return;
            }
            
            faqs.forEach(faq => {
                const item = document.createElement('div');
                item.className = 'faq-item';
                item.innerHTML = `
                    <div class="faq-question">
                        <span>${faq.question || 'Question not available'}</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>${faq.answer || 'Answer not available'}</p>
                    </div>
                `;
                container.appendChild(item);
            });
        }
    });
    </script>
</body>
</html>